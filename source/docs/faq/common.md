# 通用常见问题


### on_bar和on_schedule（on_calculate）有什么区别
答：
K线闭合的时候会触发on_bar，on_schedule（on_calculate）只在CTA引擎和SEL引擎下会触发。对于CTA引擎来说，主K线闭合并且其他已订阅的K线都正常闭合，才会触发on_schedule；对于SEL引擎来说，当设定的重算时间到了才会触发on_schedule。on_schedule触发前，底层都会确保应该闭合的K线已经触发了on_bar

### WonderTrader中标的代码规则
答：
WonderTrader内部采用统一的合约代码标准：
* 期货合约为“交易所.品种.月份”，如CFFEX.IF.2306，郑商所也同样需要扩充到4位月份
* 商品期权合约为“交易所.品种月份.方向.行权价”，如CFFEX.IO2007.C.4000，郑商所也同样需要扩种到4位月份
* 股票代码为如SSE.STK.600000或者SZSE.STK.000001
* 股票指数代码SSE.IDX.000001
* ETF代码SSE.ETF.510050
* ETF期权代码SSE.ETFO.10003961

### 如何选择交易引擎
答：
WonderTrader一共有四种交易引擎：
* CTA引擎，主要针对CTA策略的需求来设计，主要适用于少量标的（单策略50个标的以内）时序策略的引擎，采用M+1+N执行架构，信号执行剥离，可以配置多路执行器实现多账户统一交易
* SEL引擎，和CTA引擎类似，也采用M+1+N执行架构，支持多账户统一交易。底层采用异步驱动机制，适合大量计算的场景（策略计算时长超过1分钟）
* HFT引擎，高频交易引擎，支持wtpy开发策略，适用于高频交易场景
* UFT引擎，极速交易引擎，只支持C++开发策略，适用于超高频超低延迟场景